# 修复方案决策记录

> **日期**：2026-02-11
> **决策人**：金田
> **执行方**：Antigravity (Gemini 3 Pro)

---

## 决策 1: MDX 方案

**背景**：PRD 要求使用 Contentlayer 做内容管理，但 Contentlayer 已于 2024 年停止维护，不兼容 Next.js 15+。

**决策**：使用 `next-mdx-remote` 替代 Contentlayer。

**理由**：
- 功能等价：都是读取 MDX 文件 + frontmatter 元数据
- 社区活跃，兼容 Next.js 16
- PRD 核心意图是"用 MDX 文件管理内容"，方案完全满足

**状态**：✅ 已确认

---

## 决策 2: 修复范围

**决策**：先做 Phase 1（快速修复）+ Phase 2（教程系统重构），Phase 3-4 后续迭代。

**状态**：✅ 已确认

---

## 决策 3: 收款码

**决策**：金田已将真实收款码图片放到 `public/` 目录。需要移动到 `public/payment/` 子目录并更新组件引用。

**文件**：
- `public/微信商家收款码.png`
- `public/支付宝商家收款码.png`

**状态**：✅ 已确认

---

## 修复要点

### Phase 1: 快速修复
1. 导航栏添加"会员"和"商城"入口
2. 修复登录链接 `/login` → `/auth`
3. 删除不存在的"关于"页面链接
4. 整理收款码图片到 `public/payment/`
5. 更新支付组件引用真实收款码
6. 更新 PROJECT_STATUS.md

### Phase 2: 教程系统重构
1. 安装 `next-mdx-remote` + `gray-matter`
2. 将 `tutorials-data.ts` 硬编码数据迁移为 MDX 文件
3. 新建 `lib/mdx.ts` 工具函数
4. 重构教程列表页和详情页
5. 添加代码复制按钮
6. 添加全站搜索功能（Cmd+K）
